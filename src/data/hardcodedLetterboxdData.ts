import type { YellowcakeData } from "@/types/profile";

// Raw movie data from Letterboxd
const rawLetterboxdData = [
  { "rating": 3.5, "film_title": "The Maze Runner" },
  { "rating": 2, "film_title": "The Babadook" },
  { "rating": 2, "film_title": "World War Z" },
  { "rating": 3, "film_title": "The Perks of Being a Wallflower" },
  { "rating": 4, "film_title": "Moonrise Kingdom" },
  { "rating": 4.5, "film_title": "One Tree Hill: Always & Forever" },
  { "rating": 3, "film_title": "Midnight in Paris" },
  { "rating": 3, "film_title": "Submarine" },
  { "rating": 3.5, "film_title": "Scott Pilgrim vs. the World" },
  { "rating": 1.5, "film_title": "Sidelined 2: Intercepted" },
  { "rating": null, "film_title": "Our Fault" },
  { "rating": 4, "film_title": "Eternity" },
  { "rating": 4, "film_title": "Wake Up Dead Man" },
  { "rating": 2, "film_title": "Freakier Friday" },
  { "rating": 2.5, "film_title": "Happy Gilmore 2" },
  { "rating": 4, "film_title": "Materialists" },
  { "rating": null, "film_title": "Squid Game: Making Season 2" },
  { "rating": null, "film_title": "Your Fault" },
  { "rating": 2, "film_title": "Sidelined: The QB and Me" },
  { "rating": 5, "film_title": "Olivia Rodrigo: GUTS World Tour" },
  { "rating": 4.5, "film_title": "Wicked" },
  { "rating": 3.5, "film_title": "Smile 2" },
  { "rating": 2, "film_title": "Uglies" },
  { "rating": 3, "film_title": "Babygirl" },
  { "rating": null, "film_title": "Boot Camp" },
  { "rating": null, "film_title": "Twisters" },
  { "rating": 2, "film_title": "Space Cadet" },
  { "rating": null, "film_title": "Despicable Me 4" },
  { "rating": 3.5, "film_title": "Challengers" },
  { "rating": 3.5, "film_title": "The Idea of You" },
  { "rating": null, "film_title": "Young Royals Forever" },
  { "rating": 2, "film_title": "The Fall Guy" },
  { "rating": null, "film_title": "Mary & George & Me" },
  { "rating": 3.5, "film_title": "Mary & George" },
  { "rating": 3.5, "film_title": "Upgraded" },
  { "rating": 3, "film_title": "Dune: Part Two" },
  { "rating": 4, "film_title": "Dance Life" },
  { "rating": 3.5, "film_title": "Mean Girls" },
  { "rating": 3, "film_title": "Anyone But You" },
  { "rating": null, "film_title": "EXmas" },
  { "rating": 3, "film_title": "The Iron Claw" },
  { "rating": 3.5, "film_title": "The Hunger Games: The Ballad of Songbirds & Snakes" },
  { "rating": 3, "film_title": "Five Nights at Freddy's" },
  { "rating": 1, "film_title": "The Other Zoey" },
  { "rating": 5, "film_title": "Taylor Swift: The Eras Tour" },
  { "rating": null, "film_title": "After Everything" },
  { "rating": 1.5, "film_title": "Poor Things" },
  { "rating": 3.5, "film_title": "Saltburn" },
  { "rating": 2, "film_title": "Puppy Love" },
  { "rating": 3.5, "film_title": "Red, White & Royal Blue" },
  { "rating": 4, "film_title": "Barbie" },
  { "rating": 4, "film_title": "No Hard Feelings" },
  { "rating": null, "film_title": "My Fault" },
  { "rating": 5, "film_title": "Anatomy of a Fall" },
  { "rating": null, "film_title": "BEEF" },
  { "rating": null, "film_title": "Beautiful Disaster" },
  { "rating": null, "film_title": "Chronicles of The Last of Us" },
  { "rating": 4.5, "film_title": "Bottoms" },
  { "rating": 3, "film_title": "BlackBerry" },
  { "rating": 5, "film_title": "Past Lives" },
  { "rating": 3.5, "film_title": "Missing" },
  { "rating": 4.5, "film_title": "Puss in Boots: The Last Wish" },
  { "rating": 2, "film_title": "Spirited" },
  { "rating": 3, "film_title": "Smile" },
  { "rating": null, "film_title": "DAHMER - Monster: The Jeffrey Dahmer Story" },
  { "rating": null, "film_title": "Glass Onion" },
  { "rating": 3, "film_title": "Don't Worry Darling" },
  { "rating": null, "film_title": "After Ever Happy" },
  { "rating": null, "film_title": "Purple Hearts" },
  { "rating": 2.5, "film_title": "Bullet Train" },
  { "rating": null, "film_title": "Minions: The Rise of Gru" },
  { "rating": null, "film_title": "Top Gun: Maverick" },
  { "rating": 4, "film_title": "Everything Everywhere All at Once" },
  { "rating": null, "film_title": "Turning Red" },
  { "rating": 4, "film_title": "Ted Lasso: The Missing Christmas Mustache" },
  { "rating": null, "film_title": "Spider-Man: No Way Home" },
  { "rating": null, "film_title": "The Hating Game" },
  { "rating": null, "film_title": "Don't Look Up" },
  { "rating": 4.5, "film_title": "All Too Well: The Short Film" },
  { "rating": null, "film_title": "House of Gucci" },
  { "rating": null, "film_title": "Red Notice" },
  { "rating": null, "film_title": "Stuart Little (1999)" },
  { "rating": null, "film_title": "Mickey's Once Upon a Christmas (1999)" },
  { "rating": null, "film_title": "Toy Story 2 (1999)" },
  { "rating": null, "film_title": "10 Things I Hate About You (1999)" },
  { "rating": "★★½", "film_title": "Office Space (1999)" },
  { "rating": "★★½", "film_title": "She's All That (1999)" },
  { "rating": null, "film_title": "Babe: Pig in the City (1998)" },
  { "rating": null, "film_title": "A Bug's Life (1998)" },
  { "rating": null, "film_title": "I'll Be Home for Christmas (1998)" },
  { "rating": null, "film_title": "Rush Hour (1998)" },
  { "rating": null, "film_title": "The Parent Trap (1998)" },
  { "rating": null, "film_title": "Mulan (1998)" },
  { "rating": "★★★½", "film_title": "The Truman Show (1998)" },
  { "rating": null, "film_title": "Home Alone 3 (1997)" },
  { "rating": null, "film_title": "Men in Black (1997)" },
  { "rating": null, "film_title": "Romeo + Juliet (1996)" },
  { "rating": "★★★★½", "film_title": "Matilda (1996)" },
  { "rating": null, "film_title": "Harriet the Spy (1996)" },
  { "rating": "★★★", "film_title": "Happy Gilmore (1996)" },
  { "rating": "★★★★½", "film_title": "The Watermelon Woman (1996)" },
  { "rating": null, "film_title": "Toy Story (1995)" },
  { "rating": null, "film_title": "Babe (1995)" },
  { "rating": "★★★½", "film_title": "Clueless (1995)" },
  { "rating": null, "film_title": "Pocahontas (1995)" },
  { "rating": null, "film_title": "The Basketball Diaries (1995)" },
  { "rating": "★★★★", "film_title": "Before Sunrise (1995)" },
  { "rating": null, "film_title": "Dumb and Dumber (1994)" },
  { "rating": null, "film_title": "Miracle on 34th Street (1994)" },
  { "rating": null, "film_title": "The Santa Clause (1994)" },
  { "rating": null, "film_title": "The Lion King (1994)" },
  { "rating": "★★★★", "film_title": "Mrs. Doubtfire (1993)" },
  { "rating": null, "film_title": "Cool Runnings (1993)" },
  { "rating": null, "film_title": "Home Alone 2: Lost in New York (1992)" },
  { "rating": null, "film_title": "Aladdin (1992)" },
  { "rating": null, "film_title": "Beauty and the Beast (1991)" },
  { "rating": null, "film_title": "Hook (1991)" },
  { "rating": "★★★★★", "film_title": "Home Alone (1990)" },
  { "rating": "★★★½", "film_title": "Ghost (1990)" },
  { "rating": "★★★½", "film_title": "Gremlins 2: The New Batch (1990)" },
  { "rating": null, "film_title": "Back to the Future Part III (1990)" },
  { "rating": null, "film_title": "Back to the Future Part II (1989)" },
  { "rating": null, "film_title": "The Little Mermaid (1989)" },
  { "rating": null, "film_title": "When Harry Met Sally... (1989)" },
  { "rating": null, "film_title": "Ferris Bueller's Day Off (1986)" },
  { "rating": null, "film_title": "Top Gun (1986)" },
  { "rating": null, "film_title": "Dr. Jekyll and Mr. Hyde (1986)" },
  { "rating": "★★★★½", "film_title": "Clue (1985)" },
  { "rating": null, "film_title": "Back to the Future (1985)" },
  { "rating": null, "film_title": "The Karate Kid (1984)" },
  { "rating": "★★★★", "film_title": "Gremlins (1984)" },
  { "rating": null, "film_title": "A Christmas Story (1983)" },
  { "rating": null, "film_title": "Trading Places (1983)" },
  { "rating": "★★★½", "film_title": "The Thing (1982)" },
  { "rating": null, "film_title": "Annie (1982)" },
  { "rating": "★★★★½", "film_title": "Deathtrap (1982)" },
  { "rating": null, "film_title": "Willy Wonka & the Chocolate Factory (1971)" },
  { "rating": null, "film_title": "Frosty the Snowman (1969)" },
  { "rating": null, "film_title": "The Jungle Book (1967)" },
  { "rating": null, "film_title": "How the Grinch Stole Christmas! (1966)" },
  { "rating": null, "film_title": "The Sound of Music (1965)" },
  { "rating": null, "film_title": "Rudolph the Red-Nosed Reindeer (1964)" },
  { "rating": null, "film_title": "Mary Poppins (1964)" },
  { "rating": null, "film_title": "Sleeping Beauty (1959)" },
  { "rating": null, "film_title": "Scrooge (1951)" },
  { "rating": null, "film_title": "Cinderella (1950)" },
  { "rating": null, "film_title": "The Picture of Dorian Gray (1945)" },
  { "rating": null, "film_title": "The Wizard of Oz (1939)" },
  { "rating": null, "film_title": "A Christmas Carol (1938)" },
  { "rating": null, "film_title": "Snow White and the Seven Dwarfs (1937)" },
  { "rating": null, "film_title": "A Trip to the Moon (1902)" },
  { "rating": "***", "film_title": "Squid Game" },
  { "rating": null, "film_title": "Dune" },
  { "rating": null, "film_title": "After We Fell" },
  { "rating": null, "film_title": "Shang-Chi and the Legend of the Ten Rings" },
  { "rating": null, "film_title": "The Kissing Booth 3" },
  { "rating": null, "film_title": "Free Guy" },
  { "rating": null, "film_title": "To All the Boys: Always and Forever" },
  { "rating": null, "film_title": "Mariah Carey's Magical Christmas Special" },
  { "rating": null, "film_title": "The Queen's Gambit" },
  { "rating": null, "film_title": "After We Collided" },
  { "rating": null, "film_title": "The Kissing Booth 2" },
  { "rating": null, "film_title": "Hamilton" },
  { "rating": null, "film_title": "Normal People Confessions" },
  { "rating": null, "film_title": "The Half of It" },
  { "rating": "***½", "film_title": "Normal People" },
  { "rating": null, "film_title": "To All the Boys: P.S. I Still Love You" },
  { "rating": "***½", "film_title": "Palm Springs" },
  { "rating": null, "film_title": "Jumanji: The Next Level" },
  { "rating": null, "film_title": "Noelle" },
  { "rating": null, "film_title": "Tall Girl" },
  { "rating": null, "film_title": "National Theatre Live: Fleabag" },
  { "rating": null, "film_title": "Knives Out" },
  { "rating": null, "film_title": "Toy Story 4" },
  { "rating": "****", "film_title": "Parasite" },
  { "rating": null, "film_title": "Aladdin" },
  { "rating": null, "film_title": "After" },
  { "rating": "***½", "film_title": "I See You" },
  { "rating": null, "film_title": "Booksmart" },
  { "rating": null, "film_title": "Royal Opera House: Don Quixote" },
  { "rating": null, "film_title": "Fantastic Beasts: The Crimes of Grindelwald" },
  { "rating": null, "film_title": "Sierra Burgess Is a Loser" },
  { "rating": null, "film_title": "To All the Boys I've Loved Before" },
  { "rating": null, "film_title": "Incredibles 2" },
  { "rating": "***", "film_title": "Ocean's Eight" },
  { "rating": null, "film_title": "The Kissing Booth" },
  { "rating": null, "film_title": "A Quiet Place" },
  { "rating": null, "film_title": "Pitch Perfect 3" },
  { "rating": null, "film_title": "Jumanji: Welcome to the Jungle" },
  { "rating": null, "film_title": "The Upside" },
  { "rating": null, "film_title": "Molly's Game" },
  { "rating": null, "film_title": "It" },
  { "rating": null, "film_title": "Despicable Me 3" },
  { "rating": null, "film_title": "One Love Manchester" },
  { "rating": null, "film_title": "Pirates of the Caribbean: Dead Men Tell No Tales" },
  { "rating": null, "film_title": "Guardians of the Galaxy Vol. 2" },
  { "rating": null, "film_title": "Beauty and the Beast" },
  { "rating": null, "film_title": "A Dog's Purpose" },
  { "rating": null, "film_title": "Fantastic Beasts and Where to Find Them" },
  { "rating": null, "film_title": "Sing" },
  { "rating": null, "film_title": "Arrival" },
  { "rating": null, "film_title": "Your Name." },
  { "rating": null, "film_title": "The Secret Life of Pets" },
  { "rating": null, "film_title": "The Angry Birds Movie" },
  { "rating": null, "film_title": "Sausage Party" },
  { "rating": null, "film_title": "Allegiant" },
  { "rating": null, "film_title": "Zootopia" },
  { "rating": "***", "film_title": "Lovesong" },
  { "rating": null, "film_title": "The Hunger Games: Mockingjay – Part 2" },
  { "rating": null, "film_title": "The Martian" },
  { "rating": "★★½", "film_title": "Maze Runner: The Scorch Trials" },
  { "rating": null, "film_title": "Minions" },
  { "rating": null, "film_title": "Jurassic World" },
  { "rating": null, "film_title": "The Little Prince" },
  { "rating": null, "film_title": "Inside Out" },
  { "rating": null, "film_title": "Pitch Perfect 2" },
  { "rating": null, "film_title": "Home" },
  { "rating": null, "film_title": "Insurgent" },
  { "rating": null, "film_title": "Cinderella" },
  { "rating": null, "film_title": "Annie" },
  { "rating": null, "film_title": "Kingsman: The Secret Service" },
  { "rating": null, "film_title": "The Hunger Games: Mockingjay – Part 1" },
  { "rating": null, "film_title": "Penguins of Madagascar" },
  { "rating": null, "film_title": "Alvin and the Chipmunks" },
  { "rating": null, "film_title": "Bee Movie" },
  { "rating": null, "film_title": "The Game Plan" },
  { "rating": null, "film_title": "Superbad" },
  { "rating": null, "film_title": "Hairspray" },
  { "rating": null, "film_title": "Harry Potter and the Order of the Phoenix" },
  { "rating": null, "film_title": "Ratatouille" },
  { "rating": null, "film_title": "Ocean's Thirteen" },
  { "rating": null, "film_title": "Pirates of the Caribbean: At World's End" },
  { "rating": null, "film_title": "Shrek the Third" },
  { "rating": null, "film_title": "Happy Feet" },
  { "rating": "★★★½", "film_title": "Step Up" },
  { "rating": null, "film_title": "Pirates of the Caribbean: Dead Man's Chest" },
  { "rating": null, "film_title": "The Devil Wears Prada" },
  { "rating": null, "film_title": "The Da Vinci Code" },
  { "rating": null, "film_title": "Akeelah and the Bee" },
  { "rating": null, "film_title": "Ice Age: The Meltdown" },
  { "rating": "★★★★", "film_title": "She's the Man" },
  { "rating": null, "film_title": "Cars" },
  { "rating": null, "film_title": "Last Holiday" },
  { "rating": null, "film_title": "Harry Potter and the Goblet of Fire" },
  { "rating": null, "film_title": "Chicken Little" },
  { "rating": null, "film_title": "Pride & Prejudice" },
  { "rating": null, "film_title": "The 40 Year Old Virgin" },
  { "rating": null, "film_title": "Charlie and the Chocolate Factory" },
  { "rating": null, "film_title": "The Adventures of Sharkboy and Lavagirl" },
  { "rating": "★★½", "film_title": "Mr. & Mrs. Smith" },
  { "rating": null, "film_title": "The Sisterhood of the Traveling Pants" },
  { "rating": null, "film_title": "Madagascar" },
  { "rating": null, "film_title": "Robots" },
  { "rating": null, "film_title": "The Pacifier" },
  { "rating": null, "film_title": "Lemony Snicket's A Series of Unfortunate Events" },
  { "rating": "★★★", "film_title": "Ocean's Twelve" },
  { "rating": null, "film_title": "The Incredibles" },
  { "rating": null, "film_title": "The Polar Express" },
  { "rating": null, "film_title": "Shark Tale" },
  { "rating": null, "film_title": "The Princess Diaries 2: Royal Engagement" },
  { "rating": null, "film_title": "A Cinderella Story" },
  { "rating": null, "film_title": "Spider-Man 2" },
  { "rating": null, "film_title": "Harry Potter and the Prisoner of Azkaban" },
  { "rating": null, "film_title": "Shrek 2" },
  { "rating": null, "film_title": "13 Going on 30" },
  { "rating": null, "film_title": "50 First Dates" },
  { "rating": null, "film_title": "The Cat in the Hat" },
  { "rating": null, "film_title": "Elf" },
  { "rating": "★★★★★", "film_title": "School of Rock" },
  { "rating": null, "film_title": "The Dreamers" },
  { "rating": null, "film_title": "Freaky Friday" },
  { "rating": null, "film_title": "Spy Kids 3-D: Game Over" },
  { "rating": null, "film_title": "Pirates of the Caribbean: The Curse of the Black Pearl" },
  { "rating": null, "film_title": "Finding Nemo" },
  { "rating": "★★★★", "film_title": "How to Lose a Guy in 10 Days" },
  { "rating": "★★★★", "film_title": "Catch Me If You Can" },
  { "rating": null, "film_title": "Home Alone 4" },
  { "rating": null, "film_title": "Harry Potter and the Chamber of Secrets" },
  { "rating": null, "film_title": "Spy Kids 2: The Island of Lost Dreams" },
  { "rating": null, "film_title": "Lilo & Stitch" },
  { "rating": null, "film_title": "Spider-Man" },
  { "rating": null, "film_title": "Ice Age" },
  { "rating": "★★★", "film_title": "Ocean's Eleven" },
  { "rating": "★★★★★", "film_title": "Harry Potter and the Philosopher's Stone" },
  { "rating": null, "film_title": "Monsters, Inc." },
  { "rating": null, "film_title": "The Princess Diaries" },
  { "rating": null, "film_title": "Legally Blonde" },
  { "rating": null, "film_title": "Cats & Dogs" },
  { "rating": null, "film_title": "Shrek" },
  { "rating": null, "film_title": "Spy Kids" },
  { "rating": null, "film_title": "How the Grinch Stole Christmas" },
  { "rating": null, "film_title": "Bring It On" },
  { "rating": null, "film_title": "Chicken Run" },
  { "rating": null, "film_title": "Erin Brockovich" },
];

/**
 * Convert letterboxd rating format to numeric or string
 * Handles numeric ratings, star ratings (★★★½), and null
 */
function convertRating(rating: number | string | null): number | string | null {
  if (rating === null || typeof rating === "number") {
    return rating;
  }
  // Return star ratings as-is (e.g., "★★★½", "****")
  return rating;
}

/**
 * Get hardcoded Letterboxd data formatted for YellowcakeData
 */
export function getHardcodedLetterboxdData(): Partial<YellowcakeData> {
  const letterboxdFilms = rawLetterboxdData.map(film => ({
    film_title: film.film_title,
    rating: convertRating(film.rating),
  }));

  // Calculate average rating (only for numeric ratings)
  const numericRatings = rawLetterboxdData
    .map(f => f.rating)
    .filter((r): r is number => typeof r === "number");

  const avgRating = numericRatings.length > 0
    ? numericRatings.reduce((sum, r) => sum + r, 0) / numericRatings.length
    : undefined;

  // Estimate movie hours (rough calculation: average 2 hours per film watched)
  const filmsWatched = rawLetterboxdData.length;
  const movieHours = filmsWatched * 2;

  return {
    letterboxdFilms,
    avgLetterboxdRating: avgRating,
    totalFilmsWatched: filmsWatched,
    movieHours,
  };
}
